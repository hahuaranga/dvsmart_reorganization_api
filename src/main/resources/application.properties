# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
spring.application.name=dvsmart-reorganization-api
server.port=8080

# ============================================================================
# MONGODB CONFIGURATION
# ============================================================================
spring.mongodb.uri=mongodb://localhost:27017/dvsmart_reorganization

mongo.disorganized-files-index=disorganized-files-index

# ============================================================================
# SPRING BATCH CONFIGURATION
# ============================================================================
# Deshabilitar inicio automatico de jobs al arrancar la aplicacion
spring.batch.job.enabled=false

# ============================================================================
# BATCH CUSTOM PROPERTIES (BatchConfigProperties)
# ============================================================================
# Tama単o del chunk para procesamiento por lotes
# Cada chunk procesa este numero de registros antes de commit
batch.chunk-size=100

# Limite de concurrencia (deprecado, usar thread-pool-size)
batch.concurrency-limit=10

# Tama単o del pool de threads para procesamiento asincrono
# Mas threads = mas procesamiento paralelo (balance con recursos del servidor)
batch.thread-pool-size=20

# Capacidad de la cola de tareas pendientes
# Si hay mas tareas que threads, se encolan aqui
batch.queue-capacity=1000

# ============================================================================
# SFTP ORIGIN CONFIGURATION (SftpConfigProperties.Origin)
# ============================================================================
# Servidor SFTP de origen (donde estan los archivos actuales)
sftp.origin.host=sftp-origin.example.com
sftp.origin.port=22
sftp.origin.user=origin_user
sftp.origin.password=origin_password

# Directorio base en el servidor origen
sftp.origin.base-dir=/data/legacy/files

# Timeout de conexion en milisegundos (30 segundos)
sftp.origin.timeout=30000

# Tama単o del pool de conexiones SFTP origen
# Mas conexiones = mas operaciones simultaneas de lectura
sftp.origin.pool.size=10

# ============================================================================
# SFTP DESTINATION CONFIGURATION (SftpConfigProperties.Destination)
# ============================================================================
# Servidor SFTP de destino (donde se reorganizaran los archivos)
sftp.dest.host=sftp-destination.example.com
sftp.dest.port=22
sftp.dest.user=dest_user
sftp.dest.password=dest_password

# Directorio base en el servidor destino
# Los archivos se crearan bajo: {base-dir}/{hash-partition}/{filename}
# Ejemplo: /data/reorganized/a1/b2/c3/archivo.txt
sftp.dest.base-dir=/data/reorganized

# Timeout de conexion en milisegundos (30 segundos)
sftp.dest.timeout=30000

# Tama単o del pool de conexiones SFTP destino
# Mas conexiones = mas operaciones simultaneas de escritura
sftp.dest.pool.size=10

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Nivel de log general
logging.level.root=INFO

# Logs de la aplicacion (ajustar segun necesidad)
logging.level.com.indra.minsait.dvsmart.reorganization=DEBUG

# Logs de Spring Batch (INFO para produccion, DEBUG para desarrollo)
logging.level.org.springframework.batch=INFO

# Logs de Spring Integration SFTP (DEBUG para troubleshooting)
logging.level.org.springframework.integration.sftp=DEBUG

# Logs de MongoDB
logging.level.org.springframework.data.mongodb=INFO

# Patron de log para consola
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n

# Patron de log para archivo
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Configuracion de archivo de log
logging.file.name=logs/reorganization.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.file.total-size-cap=500MB

# ============================================================================
# ACTUATOR CONFIGURATION (Monitoring & Health)
# ============================================================================
# Exponer endpoints de actuator
management.endpoints.web.exposure.include=health,info,metrics,batch

# Mostrar detalles del health check
management.endpoint.health.show-details=always

# Habilitar metricas de JVM, proceso y sistema
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true

# ============================================================================
# THREAD POOL CONFIGURATION (Spring Task Execution)
# ============================================================================
spring.task.execution.pool.core-size=20
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=1000
spring.task.execution.thread-name-prefix=batch-async-